import{u as C,r as l,g as T,a as x,b as A,j as e,L as r,S as n,U as h,T as o,C as j,c as L}from"./index-DSWOYHLu.js";import{u as $}from"./useCurrency-K5FWBxIB.js";import{T as p}from"./trending-up-5JTfVDVV.js";import{C as D}from"./clock-D9w2QYzn.js";import{A as N}from"./arrow-right-BEoFoR-d.js";function I(){const{t:s}=C(),{formatPrice:c}=$(),[i,b]=l.useState({orders:0,revenue:0,avgOrder:0}),[d,f]=l.useState([]),[m,y]=l.useState([]),[a,w]=l.useState([]),[g,u]=l.useState(!0);l.useEffect(()=>{v()},[]);async function v(){try{const t=new Date().toISOString().split("T")[0],[k,S,O,_]=await Promise.all([T(t),x("pending"),x("preparing"),A()]);b(k),f(S),y(O),w(_)}catch(t){console.error("Error loading dashboard data:",t)}finally{u(!1)}}return g?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:s("dashboard.title")}),e.jsx("p",{className:"text-dark-400 mt-1 text-sm sm:text-base",children:s("dashboard.subtitle")})]}),e.jsxs(r,{to:"/orders/new",className:"btn-primary btn-lg w-full sm:w-auto justify-center",children:[e.jsx(n,{className:"w-5 h-5"}),s("orders.newOrder")]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsx("div",{className:"stat-card glow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"stat-label text-xs sm:text-sm",children:s("dashboard.ordersToday")}),e.jsx("p",{className:"stat-value text-xl sm:text-2xl",children:i.orders})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-primary-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(n,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-400"})})]})}),e.jsx("div",{className:"stat-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"stat-label text-xs sm:text-sm",children:s("dashboard.revenueToday")}),e.jsx("p",{className:"stat-value text-xl sm:text-2xl",children:c(i.revenue)})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(p,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-400"})})]})}),e.jsx("div",{className:"stat-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"stat-label text-xs sm:text-sm",children:s("dashboard.avgOrder")}),e.jsx("p",{className:"stat-value text-xl sm:text-2xl",children:c(i.avgOrder)})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(h,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-400"})})]})}),e.jsx("div",{className:"stat-card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"stat-label text-xs sm:text-sm",children:s("dashboard.lowStock")}),e.jsx("p",{className:"stat-value text-xl sm:text-2xl",children:a.length})]}),e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${a.length>0?"bg-red-500/20":"bg-emerald-500/20"}`,children:e.jsx(o,{className:`w-5 h-5 sm:w-6 sm:h-6 ${a.length>0?"text-red-400":"text-emerald-400"}`})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-400"}),e.jsx("h2",{className:"font-semibold text-white text-sm sm:text-base",children:s("orders.pending")})]}),e.jsx("span",{className:"badge-warning",children:d.length})]}),e.jsxs("div",{className:"card-body space-y-2 sm:space-y-3",children:[d.length===0?e.jsx("p",{className:"text-dark-400 text-center py-4 text-sm",children:s("orders.noActiveOrders")}):d.slice(0,5).map(t=>e.jsxs("div",{className:"order-item",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:"font-medium text-white text-sm sm:text-base",children:[s("orders.title")," #",t.id]}),e.jsx("p",{className:"text-xs sm:text-sm text-dark-400 truncate",children:t.order_type==="dine_in"?`${s("orders.table")} ${t.table_name}`:t.order_type==="takeaway"?s("orders.takeaway"):s("orders.delivery")})]}),e.jsx("p",{className:"font-semibold text-primary-400 text-sm sm:text-base",children:c(t.total)})]},t.id)),d.length>5&&e.jsxs(r,{to:"/orders",className:"flex items-center justify-center gap-2 text-primary-400 hover:text-primary-300 py-2 text-sm",children:[s("dashboard.viewAll")," ",e.jsx(N,{className:"w-4 h-4"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"}),e.jsx("h2",{className:"font-semibold text-white text-sm sm:text-base",children:s("orders.preparing")})]}),e.jsx("span",{className:"badge-info",children:m.length})]}),e.jsx("div",{className:"card-body space-y-2 sm:space-y-3",children:m.length===0?e.jsx("p",{className:"text-dark-400 text-center py-4 text-sm",children:s("orders.noActiveOrders")}):m.slice(0,5).map(t=>e.jsxs("div",{className:"order-item",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:"font-medium text-white text-sm sm:text-base",children:[s("orders.title")," #",t.id]}),e.jsx("p",{className:"text-xs sm:text-sm text-dark-400 truncate",children:t.order_type==="dine_in"?`${s("orders.table")} ${t.table_name}`:t.order_type==="takeaway"?s("orders.takeaway"):s("orders.delivery")})]}),e.jsx("p",{className:"font-semibold text-primary-400 text-sm sm:text-base",children:c(t.total)})]},t.id))})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400"}),e.jsx("h2",{className:"font-semibold text-white text-sm sm:text-base",children:s("dashboard.lowStock")})]}),a.length>0&&e.jsx("span",{className:"badge-danger",children:a.length})]}),e.jsxs("div",{className:"card-body space-y-2 sm:space-y-3",children:[a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-6 sm:py-8 text-center",children:[e.jsx(L,{className:"w-10 h-10 sm:w-12 sm:h-12 text-emerald-400 mb-3"}),e.jsx("p",{className:"text-dark-300 text-sm",children:s("inventory.inStock")})]}):a.map(t=>e.jsxs("div",{className:"order-item border-l-4 border-red-500",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-white text-sm sm:text-base truncate",children:t.ingredient_name}),e.jsxs("p",{className:"text-xs sm:text-sm text-dark-400",children:[s("inventory.threshold"),": ",t.threshold," ",t.unit]})]}),e.jsxs("p",{className:"font-semibold text-red-400 text-sm sm:text-base whitespace-nowrap",children:[t.quantity," ",t.unit]})]},t.id)),a.length>0&&e.jsxs(r,{to:"/inventory",className:"flex items-center justify-center gap-2 text-primary-400 hover:text-primary-300 py-2 text-sm",children:[s("sidebar.inventory")," ",e.jsx(N,{className:"w-4 h-4"})]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"font-semibold text-white text-sm sm:text-base",children:s("dashboard.quickActions")})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs(r,{to:"/orders",className:"btn-primary text-center py-4 sm:py-6 flex flex-col items-center gap-2",children:[e.jsx(j,{className:"w-6 h-6 sm:w-8 sm:h-8"}),e.jsx("span",{className:"text-sm sm:text-base",children:s("sidebar.orders")})]}),e.jsxs(r,{to:"/tables",className:"btn-secondary text-center py-4 sm:py-6 flex flex-col items-center gap-2",children:[e.jsx(h,{className:"w-6 h-6 sm:w-8 sm:h-8"}),e.jsx("span",{className:"text-sm sm:text-base",children:s("sidebar.tables")})]}),e.jsxs(r,{to:"/menu",className:"btn-secondary text-center py-4 sm:py-6 flex flex-col items-center gap-2",children:[e.jsx(n,{className:"w-6 h-6 sm:w-8 sm:h-8"}),e.jsx("span",{className:"text-sm sm:text-base",children:s("sidebar.menu")})]}),e.jsxs(r,{to:"/reports",className:"btn-secondary text-center py-4 sm:py-6 flex flex-col items-center gap-2",children:[e.jsx(p,{className:"w-6 h-6 sm:w-8 sm:h-8"}),e.jsx("span",{className:"text-sm sm:text-base",children:s("sidebar.reports")})]})]})})]})]})}export{I as Dashboard};
